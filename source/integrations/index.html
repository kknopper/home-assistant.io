---
title: "Integrations"
description: "List of the built-in integrations of Home Assistant."
sidebar: false
is_homepage: true
feedback: false
body_id: components-page
regenerate: false
---

{%- comment -%}Can't use where to count nil because of https://github.com/jekyll/jekyll/issues/6038{%- endcomment -%}
{%- assign tot = 0 -%}
{%- for comp in site.integrations -%}
{%- if comp.ha_category -%}
{%- if comp.ha_category.first -%}
{%- assign tot = tot | plus: comp.ha_category.size -%}
{%- else -%}
{%- assign tot = tot | plus: 1 -%}
{%- endif -%}
{%- endif %}
{%- endfor -%}

{%- assign components = site.integrations | sort: 'title' -%}
{%- assign components_by_version = site.integrations | group_components_by_release -%}
{%- assign categories = components | map: 'ha_category' | join: ',' | join: ',' | split: ',' | uniq | sort -%}
{%- assign iot_classes = components | map: 'ha_iot_class' | join: ',' | join: ',' | split: ',' | uniq | sort -%}
{%- assign quality_scales = components | map: 'ha_quality_scale' | join: ',' | join: ',' | split: ',' | uniq | sort  -%}

<p class='note'>
  Support for these integrations is provided by the Home Assistant community.
</p>
<div class="grid">
  <div class="grid__item six-sixths lap-one-whole palm-one-whole">
    <div class="component-search">
      <form onsubmit="event.preventDefault(); return false">
        <input type="text" name="search" id="search" data-id="search" class="search" placeholder="Search integrations..." autofocus />
      </form>
    </div>
  </div>
  <div class="grid__item three-sixths lap-one-whole palm-one-whole">
      <div class="integration_filter">
        <select name="category" data-id="cat">
          <option value="#">Category</option>
          <option value="featured">Featured</option>
          <option value="all">All ({{tot}})</option>
    
          {%- for category in categories -%}
          {%- assign components_count = components | where: 'ha_category', category | size -%}
          {%- if category and category != 'Other' and components_count != 0 -%}
          <option value='{{ category | slugify }}'>{{ category }} ({{ components_count }})</option>
          {%- endif -%}
          {%- endfor -%}
    
          <option value='#other'>Other ({{ components | where: 'ha_category', 'Other' | size }})</option>
    
        </select>
      </div>
  </div>
  <div class="grid__item three-sixths lap-one-whole palm-one-whole">
    <div class="integration_filter">
      <select name="versions" data-id="version">
        <option value="#">Version</option>
        {%- for group in components_by_version -%}
        <optgroup label="{{ group.label }} ({{group.new_components_count}})">
          {%- for version in group.versions -%}
          <option value="{{ version.label }}">{{ version.label }} ({{ version.new_components_count }})
          </option>
          {%- endfor -%}
        </optgroup>
        {%- endfor -%}
      </select>
    </div>
  </div>

  <div class="grid__item three-sixths lap-one-whole palm-one-whole">
    <div class="integration_filter">
      <select name="iot_classes" data-id="iot_class">
        <option value="#">IoT Class</option>
        {%- for iot_class in iot_classes -%}
          {%- assign iot_class_count = components | where: 'ha_iot_class', iot_class | size -%}
          {%- if iot_class_count != 0 -%}
          <option value="{{ iot_class | slugify }}">{{ iot_class }} ({{ iot_class_count }})
          </option>
          {%- endif -%}
        {%- endfor -%}
      </select>
    </div>
  </div>

  <div class="grid__item three-sixths lap-one-whole palm-one-whole">
    <div class="integration_filter">
      <select name="quality_scales" class="capitalize" data-id="quality_scale">
        <option value="#">Quality Scale</option>
        {%- for quality_scale in quality_scales -%}
          {%- assign quality_scale_count = components | where: 'ha_quality_scale', quality_scale | size -%}
          {%- if quality_scale_count != 0 -%}
          <option class="capitalize" value="{{ quality_scale | slugify }}">{{ quality_scale }} ({{ quality_scale_count }})
          </option>
          {%- endif -%}
        {%- endfor -%}
      </select>
    </div>
  </div>


  <div class="grid__item six-sixths lap-one-whole palm-one-whole">
    <div class="hass-option-cards" id="componentContainer"> </div>
  </div>
</div>

<script
  src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
  crossorigin="anonymous"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js"
    integrity="sha384-wlIoxluAn4R0ncWYWAibi4AATy1rxh4LzxfPhzhRfBwpYzbAQT7FDApW3TTf4KC+"
    crossorigin="anonymous"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/10.17.0/lazyload.min.js"
    integrity="sha384-vJtpZDYI5wEvw5lJzoCEeYTiRzgoR1NmzkWtzy04p4AaQjHXAzxNqSEVlIsutpxa"
    crossorigin="anonymous"></script>
{% raw %}
<script id="component-template" type="text/x-custom-template">
  {{#components}}
  <a href="{{url}}" class="option-card">
    <div class="img-container">{{{image}}}</div>
    <div class='title'>{{title}}</div>
  </a>
{{/components}}
{{^components}}
  <p class='note'>Nothing found!</p>
{{/components}}
</script>
{% endraw %}

<script type="text/javascript">
// This object contains all components we have
const integrations = [
  {%- for component in components -%}
    {%- if component.ha_category -%}
      {%- assign sliced_version = component.ha_release | split: '.' -%}
      {%- assign minor_version = sliced_version[1]|plus: 0 -%}
      {%- assign major_version = sliced_version[0]|plus: 0 -%}
      {% assign categories = "" | split: ',' %}
      {%- for ha_category in component.ha_category -%}
        {% capture category %}"{{ ha_category | slugify | downcase }}"{% endcapture %}
        {% assign categories = categories | push: category %}
      {%- endfor -%}
      {
        url:"{{ component.url }}",
        title:"{{component.title}}",
        cat: [{{categories|join: ","}}],
        featured: {{ component.featured }},
        version: "{{major_version}}.{{minor_version}}",
        logo: "{{component.logo}}",
        domain: "{{component.ha_domain}}",
        iot_class: "{{component.ha_iot_class | slugify }}",
        quality_scale: "{{component.ha_quality_scale}}"
      },
    {% endif -%}
  {%- endfor -%}
  false
];
integrations.pop(); // remove placeholder element at the end
</script>

<script type="text/javascript">
  (function () {
    var template = $('#component-template').html();
    Mustache.parse(template); // make future calls to render faster
    let filteredComponents = {};
    const baseHashRegex = /(^.*)(?=\?)/;
    const $integrationFilters = $('.integration_filter select');

    function init() {
      let queryParams = new URLSearchParams(document.location.search);
      // do the lowerCase transformation once
      for (i = 0; i < integrations.length; i++) {
        title = integrations[i].title.toLowerCase();
        domain = integrations[i].domain;
        iot_class = integrations[i].iot_class;
        quality_scale = integrations[i].quality_scale;
        title_normalized = title
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "");
        title_dedashed = title.replace(/[-_]/g, " ");
        title_normalized_dedashed = title_normalized.replace(/[-_]/g, " ");

        integrations[i].titleLC = title;
        integrations[i].search = `${title} ${title_normalized} ${title_dedashed} ${title_normalized_dedashed} ${domain} ${iot_class} ${quality_scale}`;
      }

      // sort the components alphabetically
      integrations.sort(function (a, b) {
        return a.titleLC.localeCompare(b.titleLC);
      });

      //add these to the window for dynamic grabbing in matchSelectToURL()
      window.$catFilter = $('.integration_filter select[data-id="cat"]');
      window.$versionFilter = $('.integration_filter select[data-id="version"]');
      window.$iot_classFilter = $('.integration_filter select[data-id="iot_class"]');
      window.$quality_scaleFilter = $('.integration_filter select[data-id="quality_scale"]');
      window.$searchFilter = $('.component-search input');

      //listen for changes in the hash / user clicking back or forward button in browser
      window.addEventListener('hashchange', applyFilter);
      window.addEventListener('popstate', applyFilter);

      //on initial page load, if there's no active filters set the default to featured
      let query = buildQueryFromURL();
      if (Object.keys(query).length === 0) {
        updateQueryURL('cat', 'featured');
      }
      applyFilter();

      // add focus to the search field - even on IE
      setTimeout(function () {
        $('.component-search input').focus();
      }, 1);
    }
    init();

    // get query value pair that matches provided id from url. // for buildQueryFromURL()
    function getQueryValue(id) {
      let index = id.length + 2; // id + '#' and '/' => '#search/'
      if (id === 'cat') index = 1;

      // get value from #hash url
      let query = decodeURIComponent(location.hash).substring(index).toLowerCase();

      // get value from ?query url if it's present
      let queryParams = new URLSearchParams(location.search);
      if (queryParams.has(id)) {
        query = queryParams.get(id);
      }

      return query;
    }

    // build out query object of active filters for applyFilter()
    function buildQueryFromURL() {
      let queryFilter = {};
      let hash = location.hash || '';
      let queryParams = new URLSearchParams(location.search);

      if (hash.indexOf('#all') === 0 || queryParams.get('cat') === 'all') {
        queryFilter.cat = 'all';
      }

      if (hash.indexOf('#featured') === 0 || queryParams.get('cat') === 'featured') {
        // only show those with featured = true
        queryFilter.cat = 'featured';
      }

      if (hash.indexOf('#search/') === 0 || queryParams.has('search')) {
        let query = getQueryValue('search');
        queryFilter.search = query;
      } else {
        // reset search box when not searching
        $searchFilter.val(null);
      }
      
      if (hash.indexOf('#version/') === 0 || queryParams.has('version')) {
        // filter by a version
        let query = getQueryValue('version');
        queryFilter.version = query;
      } 

      if (
          // check for categories that are not featured or all
          (hash.indexOf('#') === 0 || queryParams.has("cat")) 
          && !(hash.indexOf('#all') === 0 || queryParams.get("cat") === 'all') 
          && !(hash.indexOf('#featured') === 0 || queryParams.get("cat") === 'featured')
          && !(hash.indexOf('#search') === 0)
          && !(hash.indexOf('#version') === 0)
          && !(hash.indexOf('#iot_class') === 0)
          && !(hash.indexOf('#quality_scale') === 0)
        ) {
        // regular filter categories
        let query = getQueryValue('cat');
        queryFilter.cat = query;
      }

      if (hash.indexOf('#iot_class/') === 0 || queryParams.has('iot_class')) {
        let query = getQueryValue('iot_class');
        queryFilter.iot_class = query;
      }

      if (hash.indexOf('#quality_scale/') === 0 || queryParams.has('quality_scale')) {
        let query = getQueryValue('quality_scale');
        queryFilter.quality_scale = query;
      }

      // filter all components by comparing against query object
      console.log('buildQueryFromURL():', queryFilter);
      return queryFilter;
    }

    // filter all components, based on the locations hash/search and render them into the component box
    function applyFilter(queryFilter) {
      console.log('applyFilter()');
      var logoLazyLoad = new LazyLoad({
        elements_selector: ".option-card img"
      });

      var data = {
        components: [],
        image: function () {
          if (this.logo === '') {
            return '<img src="https://brands.home-assistant.io/_/' + this.domain + '/logo.png" srcset="https://brands.home-assistant.io/_/' + this.domain + '/logo@2x.png 2x">';
          } else {
            return '<img data-src="/images/supported_brands/' + this.logo + '">';
          }
        }
      };

      // fade-out css effect on the old elements. This is actually not visible on fast browsers
      $('#componentContainer').addClass('remove-items');

      let query = buildQueryFromURL();

      // update dom elements to match new filters
      updateFilterButtons(query);
      updateFilterElements(query);

      data.components = integrations.filter(function(integration) {
        for (let key in query) {
          // add 'featured' into integration category array // enables filtration by featured
          // also allows search of 'featured' since this is added before search is checked
          if (query[key] === 'featured') {
            if (integration.featured) {
              integration['cat'].push('featured')
            }
          }

          // compare against search string and categories in integration
          if (key === 'search') {
            if (
              integration[key].indexOf(query[key]) === -1 
              && integration.cat.find((c) => c.includes(query[key])) == undefined
            ) {
              return false;
            } 
          }

          // add 'all' into integration category array // enables filtration by all
          integration['cat'].push('all');

          // check for matching categories in integation's category array 
          if (key === 'cat') {
            if (!integration[key].includes(query[key])) return false;
          }

          // check for version / iot / quality matches
          if (!(key === 'cat' || key === 'search')) {
            if (
              integration[key] == undefined // match doesn't exist
              || integration[key] != query[key] // strings dont match 
            ) {
              return false;
            }
          }
        }

        return true;
      });

      console.log('Filtered Integrations:', data.components);
      let rendered = Mustache.render(template, data);

      // remove previous elements and css classes, add the new stuff and then trigger the fade-in css animation
      $('#componentContainer').html('').removeClass('show-items remove-items').html(rendered).addClass('show-items');
      logoLazyLoad.update();
    }

    // update the browser location search. This enables users to use the browser-history
    // used for adding / updating a filter in the url
    function updateQueryURL(id, value) {
      console.log('updateQueryURL()');
      const hashExists = location.hash !== '';
      let queryParams = new URLSearchParams(location.search);
      let query = buildQueryFromURL();

        // append url to query
        if (hashExists) {
          location.hash = '';
          let currentId = Object.keys(query)[0];
          let currentVal = Object.values(query)[0];
          queryParams.set(currentId, currentVal);
        }

        queryParams.set(id, value);
        newURL = `?${queryParams.toString()}`;
        console.log('newURL:', newURL);

      if ('pushState' in history) {
            history.pushState('', '', newURL);
        } else {
            location.search = newURL;
        }
    }

    //remove a filter in the url
    function removeQueryFromURL(queryId) {
      const hashExists = location.hash !== '';
      let newURL;
      const baseHashRegex = /(^.*)(?=\?)/;
      const queryParams = new URLSearchParams(location.search);

      if (hashExists) {
        location.hash = '';
      } else {
        queryParams.delete(queryId);
        if (queryParams.toString() !== '') {
          let baseURL = location.href.match(baseHashRegex)[0];
          newURL = `${baseURL}?${queryParams.toString()}`
        } else {
          newURL = location.href.match(baseHashRegex)[0];
        }
      }
      
      console.log('removeQueryFromURL()');
      console.log('newURL:', newURL);
      if ('pushState' in history) {
        history.pushState('', '', newURL);
      } else {
        location.href = newURL;
      }
    }

    //update a specific filter dropdown / search. used in updateFilterElements()
    function matchFilterToURL(id, query) {
      //dynamically grab select variables
      let $filterElement = window[`$${id}Filter`];
      console.log(`matchFilterToURL():`);

      //set the value of select dropdown if it doesn't currently match the query in the url
      if ($filterElement.val() !== query) {
        console.log('updating Filter Element:', $filterElement.val(), query);
        $filterElement.val(query);
      }
    }

    // update all filter elements to match current filter obj
    function updateFilterElements(queryFilter) {
      console.log(`updateFilterElements():`);
      let filterElements = [...document.querySelectorAll('.integration_filter select, input.search')];
      let activeFilterElements = filterElements.filter(el => !(el.value === '#' || el.value === ''));

      // clear filters if there's more than the current queryFilter
      if (activeFilterElements.length > Object.keys(queryFilter).length) {
        // filter out filter elements that don't match query object
        let filtersToClear = activeFilterElements.filter(el => {
          for (key in queryFilter) {
             if (el.getAttribute('data-id') === key) return false;
          }
          return true;
        });

        // reset filter elements to default empty value
        filtersToClear.forEach(filter => {
          let queryId = filter.getAttribute('data-id');
          if (queryId !== 'search') {
            matchFilterToURL(queryId, '#');
          } else {
            matchFilterToURL(queryId, '');
          }
        });
      } else {
         // update new filters
         if (Object.keys(queryFilter).length) {
          for (key in queryFilter) {
            matchFilterToURL(key, queryFilter[key]);
          }
        }
      }
    }

    // filter button name cleanup. used inupdateFilterButtons()
    function getButtonText(id) {
      let text;
      switch(id) {
        case 'cat':
          text = 'Category';
          break;
        case 'iot_class':
          text = 'IoT';
          break;
        case 'quality_scale':
          text = 'Quality';
          break;
        default:
          text = id;
      }
      return text;
    }

    // update all filter buttons to match current obj filter
    function updateFilterButtons(queryFilter) {
      let filterButtonParent = document.querySelector('.component-search');
      let currentFilterButtons = [...document.querySelectorAll('.component-search .active-filter')];
      
      // remove buttons if there's more than the current queryFilter
      if (currentFilterButtons.length > Object.keys(queryFilter).length) {
        // filter out buttons that dont match query obj
        let buttonsToRemove = currentFilterButtons.filter(button => {
          for (key in queryFilter) {
             if (button.id === key) return false;
          }
          return true;
        });
        buttonsToRemove.forEach(button => button.remove());
      } else {
        //create a filter button if one doesn't already exists
        for (key in queryFilter) {
          if (document.querySelector(`.component-search .active-filter#${key}`) === null) {
            let button = document.createElement('button');
            button.innerHTML = `<span>${getButtonText(key)}<i class="icon-plus-sign"></i></span>`;
            button.classList.add('active-filter');
            button.setAttribute('id', `${key}`);

            //add click listener to button to remove filter
            button.addEventListener('click', function() {
              removeQueryFromURL(this.id);
              applyFilter();
              // remove event listener after click
            }, {once:true});

            //add button to the dom
            filterButtonParent.appendChild(button);
          }
        }
      }
    }

    // update view on select change
    $integrationFilters.change(function () {
      let id = this.dataset.id;
      let value = this.value;

      if (value !== '#') {

        updateQueryURL(id, value);
        applyFilter();
      } else {
        // clear current filter
        removeQueryFromURL(id);
        applyFilter();
      }

      return false;
    });

    // Simple debounce implementation, based on http://davidwalsh.name/javascript-debounce-function
    function debounce(func, wait, immediate) {
      var timeout;
      return function () {
        var context = this,
          args = arguments;
        var later = function () {
          timeout = null;
          if (!immediate) {
            func.apply(context, args);
          }
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) {
          func.apply(context, args);
        }
      };
    };

    // update view by search text
    $searchFilter.keyup(debounce(function () {
      let value = $(this).val();
      // sanitize input
      value = value.replace(/[(\?|\&\{\}\(\))]/gi, '').trim();
      if (typeof value === "string" && value.length >= 1) {
        updateQueryURL('search', value);
        applyFilter();
      }
      else {
        removeQueryFromURL('search');
        applyFilter();
      }
    }, 500));
  })();
</script>

<noscript>
  <ul>
    {%- for component in components -%}
    {%- if component.ha_category -%}
    <li><a href='{{ component.url }}'>{{ component.title }}</a></li>
    {%- endif -%}
    {%- endfor -%}
  </ul>
</noscript>
